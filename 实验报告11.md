# 实验报告

## 实验一

下载安装MySQL

### 1.打开mysql官方网站，下载压缩文件和文档

#### a.点击下载/DOWNLOAD

![](./img/{5C911505-DE46-46AD-8558-43039D6D81D6}.png)

#### b.下滑至底层，点击红色框选部分的内容

![](./img/1727490926961.png)

#### c.点击community server的版本

![](./img/1727490894239.png)

#### d.根据自己电脑的情况以及自身需求选择对应的系统和版本，点击.zip文件旁边的download

![](./img/下载版本.png)

#### e.无需登陆，直接下载

![](./img/1727491295370.png)

#### f.同时下载对应版本的文档，由于我适用的是最新版本，因此下载的是最新版本文档的pdf

![](./img/document.png)

#### g.下载完毕后，在d盘（或者其他盘）创建mysql文件夹，把pdf文件和zip文件放入该文件夹中，zip文件解压

![](./img/移入同一文件夹.png)

### 2.打开系统的命令提示符

#### a.可在开始处搜索找到

![](./img/1727491667095.png)

#### b.转换至mysql.exe文件所在的目录 直接输入d:

![](./img/mysql-1.png)

#### c.输入dir，查看文件

![](./img/dir.png)

![](./img/dir2.png)

#### d.输入mysqld，发现第三行开始出错，原因是选择的版本mysql community server采用的是c/s模式，下载后server部分没有进行初始化，没有对应的data文件夹。

![](./img/mysqld.png)

#### e.初始化，输入命令mysqld --console --initialize

切记不要关闭此窗口！！！

![](./img/initialize-mysql.png)

### 3.打开另一个控制台

#### a.在mysql.exe文件夹所处目录的搜索栏输入cmd

![](./img/打开cmd.png)

#### b.输入命令mysql -u root -p并输入临时密码

![](./img/输入临时密码.png)

#### c.输入命令show databases；   但是发现出错，需要修改用户密码，故输入命令alter user 'root'@'localhost'identified by '新密码'（此处我使用的密码是abc1245）

![](./img/show-databases报错.png)

![](./img/更改密码.png)

#### d.退出mysql，重新登入，输入mysql -u root -p并输入新密码，检验是否修改成功

![](./img/退出1.png)

![](./img/输入更改后的密码登陆.png)

### 4.创建用户

#### a.输入prompt  \u@\h[\d]>(空格)

![](./img/显示.png)

#### b.输入create user '学号'@'localhost'identified by '用户密码'；

![](./img/创建新用户.png)

#### c.授权，输入grant all on (星号).(星号) to '学号'@'localhost';

![](./img/授予权力.png)

#### d.退出exit

![](./img/退出2.png)

### 5.修改提示符

#### a.输入mysql -u 刚刚创建的用户名 -p并输入密码

![](./img/用新号登录.png)

#### b.再次输入prompt  \u@\h[\d]>(空格)

![](./img/显示2.png)

可以看见提示符已经改为学号



## 实验二

OpenGuass实验

### 1.安装openguass



### 2.创建数据库



## 实验三

### 1.使用 MySQL 系统 完成教材的第三章所有sql例子实验 

#### 例3.1 为用户 WANG 定义一个学生﹣课程模式 S - T 。

CREATE SCHEMA " S - T " AUTHORIZATION WANG ;

![](./img/3.1.png)

#### 例3.2 CREATE SCHEMA AUTHORIZATION WANG ;

![](./img/3.1.png)

#### 例3.3 为用户 ZHANG 创建一个模式 TEST ，并且在其中定义一个表TAB1。 

CREATE SCHEMA TEST AUTHORIZATION ZHANG 
CREATE TABLE TAB1(COL1 SMALLINT,
COL2 INT,
COL3 CHAR (20),
COL4 NUMERIC (10,3),
COL5 DECIMAL (5,2)
);

![](./img/3.3.png)

![](./img/3.3-result.png)

#### 例3.4 DROP SCHEMA ZHANG CASCADE;

![](./img/3.4.png)

#### 例3.5 建立一个"学生"表 Student 。

CREATE TABLE Student 
( Sno CHAR (9) PRIMARY KEY,                                   /＊列级完整性约束条件， Sno 是主码＊/

 Sname CHAR (20) UNIQUE,                                     /* Sname 取唯一值＊/
 Ssex CHAR (2),
 Sage SMALLINT,
 Sdept CHAR (20)
);

![](./img/3.5.png)

![](./img/3.5-result.png)

#### 例3.6  建立一个“课程”表Course

![](./img/3.6.png)

#### 例3.7 建立学生选课表SC

![](./img/3.7.png)

#### 例3.8 向Student表增加“入学时间”列，其数据类型为日期型

![](./img/3.8.png)

![](./img/3.8-re.png)

#### 例3.9 将年龄数据类型由字符型改为整数

![](./img/3.9.png)

#### 例3.10 增加课程名称必须取唯一值的约束条件

![](./img/3.10.png)

#### 例3.11 删除Student表

![](./img/3.11.png)

#### 例3.12 若表上建有视图，选择RESTRICT 时表不能删除；选择CASCADE时可以删除表，视图也自动被删除。

![](./img/3.12.png)

#### 例3.13 为学生﹣课程数据库中的 Student 、 Course 和 SC 三个表建立索引。

其中 Student 表按学号升序建唯一索引， Course 表按课程号升序建唯一索引， SC 表按学号升序和课程号降序建唯一索引。

![](./img/3.13.png)

![{13B1E3EF-215E-4E47-BC47-4681E362DACF}](./img/{13B1E3EF-215E-4E47-BC47-4681E362DACF}.png)

![{EA22E543-0B1D-46D4-A3EB-A6D31BA9308B}](./img/{EA22E543-0B1D-46D4-A3EB-A6D31BA9308B}.png)

![{F173E6D7-4CBB-4F60-A247-F63ED42E2E45}](./img/{F173E6D7-4CBB-4F60-A247-F63ED42E2E45}.png)

#### 例3.14 将SC表的SCno索引名改为SCSno

![](./img/3.14.png)

#### 例3.15 删除Student表的Stusname索引

![{C83BC396-AC7B-4818-B811-91467987BE13}](./img/{C83BC396-AC7B-4818-B811-91467987BE13}.png)

#### 例3.16 查询全体学生的学号和姓名

![{3A9F8EF9-5C56-49BA-8030-CF972251156A}](./img/{3A9F8EF9-5C56-49BA-8030-CF972251156A}.png)

#### 例3.17 查询全体学生的姓名、学号、所在系

![{901BC9AE-29A4-4872-A23F-6037816AC58B}](./img/{901BC9AE-29A4-4872-A23F-6037816AC58B}.png)

#### 例3.18 查询全体学生的详细记录

![{D5349341-5814-4C10-A4C7-2D1F02D5D33F}](./img/{D5349341-5814-4C10-A4C7-2D1F02D5D33F}.png)

#### 例3.19 查询全体学生的姓名及其出生年份

![{9770F40C-4A1D-4578-908B-158B4CE920E0}](./img/{9770F40C-4A1D-4578-908B-158B4CE920E0}.png)

#### 例3.20 查询全体学生的姓名、出生年份和所在的院系，要求用小写字母表示系名

![{1153C313-CA7F-4482-8BAF-8E0720526C19}](./img/{1153C313-CA7F-4482-8BAF-8E0720526C19}.png)

#### 例3.21 查询选修了课程的学生学号

![{3994BB3B-15A8-46C2-8C09-0C5308F005FE}](./img/{3994BB3B-15A8-46C2-8C09-0C5308F005FE}.png)

#### 例3.22 查询计算机科学系全体学生的名单

![{38B1A53E-DC86-41D9-B28D-2DC4F1520A77}](./img/{38B1A53E-DC86-41D9-B28D-2DC4F1520A77}.png)

#### 例3.23 查询所有年龄在20岁以下的学生姓名及其年龄

![{8AA70F18-FA01-4982-8ADC-EE0E064E71F3}](./img/{8AA70F18-FA01-4982-8ADC-EE0E064E71F3}.png)

#### 例3.24 查询考试成绩不合格的学生的学号

![{ADB4DC02-7551-4B9D-8F8D-ADC2B38D42C8}](./img/{ADB4DC02-7551-4B9D-8F8D-ADC2B38D42C8}.png)

#### 例3.25 查询年龄在20-23岁之间的学生姓名、系别和年龄

![{3003E9F2-8551-4FFB-91E4-58BF0DAAA85A}](./img/{3003E9F2-8551-4FFB-91E4-58BF0DAAA85A}.png)

#### 例3.26 查询年龄不在20-23岁之间的学生姓名、系别和年龄

![{5E4B7FEE-CE6B-4E71-8576-1C4D0A4DD9CE}](./img/{5E4B7FEE-CE6B-4E71-8576-1C4D0A4DD9CE}.png)

#### 例3.27 查询计算机科学系（CS）、数学系（MA）和信息系（IS）学生的姓名和性别

![{88943B9A-B041-4D0C-A88A-437E3BE58909}](./img/{88943B9A-B041-4D0C-A88A-437E3BE58909}.png)

#### 例3.28 查询既不是计算机科学系、数学系，也不是信息系的学生的姓名和性别。

![{59323B21-E374-4026-8A35-441CF986C4DA}](./img/{59323B21-E374-4026-8A35-441CF986C4DA}.png)

#### 例3.29 查询学号为201215121的学生的详细情况

![{8BF763B3-2604-4243-84FA-01E8076A3A35}](./img/{8BF763B3-2604-4243-84FA-01E8076A3A35}.png)

#### 例3.30 查询所有姓刘的学生的姓名、学号和性别

![{48876CB3-5AAB-4C9E-81B7-7774F0E3B399}](./img/{48876CB3-5AAB-4C9E-81B7-7774F0E3B399}.png)

#### 例3.31 查询姓“欧阳”且全名为三个汉字的学生的姓名

![{ED6D2A03-E931-4CC9-9073-988B1689E6AA}](./img/{ED6D2A03-E931-4CC9-9073-988B1689E6AA}.png)

#### 例3.32 查询名字中第二个字为“阳”的学生的姓名和学号

![{A7A57E39-9AA8-4CE3-ACF2-E929D141EA90}](./img/{A7A57E39-9AA8-4CE3-ACF2-E929D141EA90}.png)

#### 例3.33 查询所有不姓刘的学生的姓名、学号和性别

![{EA8D1194-FBD7-4D80-8371-F7238FA5D901}](./img/{EA8D1194-FBD7-4D80-8371-F7238FA5D901}.png)

#### 例3.34 查询DB_Design课程的课程号和学分

![{30A879D9-4763-4EA5-9D99-2FC0D487D4AB}](./img/{30A879D9-4763-4EA5-9D99-2FC0D487D4AB}.png)

#### 例3.35 查询以“DB_”开头，且倒数第三个字符为i的课程的详细情况

![{2531C3E8-CC29-4217-8EEC-0CD15CCEA661}](./img/{2531C3E8-CC29-4217-8EEC-0CD15CCEA661}.png)

#### 例3.36 某些学生选修课程后没有参加考试，所以有选课记录，但没有考试成绩，查询缺少成绩的学生的学号和对应的课程号

![{97BB3184-2587-42D7-99C4-FADBD7A132B8}](./img/{97BB3184-2587-42D7-99C4-FADBD7A132B8}.png)

#### 例3.37 查所有有成绩的学生学号和课程号

![{25BC61CB-60D9-4751-8566-1524AA526D6A}](./img/{25BC61CB-60D9-4751-8566-1524AA526D6A}.png)

#### 例3.38 查询计算机科学系年龄在20岁以下的学生姓名

![{6D615DA7-7AEC-44E5-81E1-7D76443C86F3}](./img/{6D615DA7-7AEC-44E5-81E1-7D76443C86F3}.png)

#### 例3.39 查询选修了3号课程的学生的学号和成绩，查询结果按照分数的降序排列

![{E37CD969-E4E5-471D-A801-61DF35D6EFF6}](./img/{E37CD969-E4E5-471D-A801-61DF35D6EFF6}.png)

#### 例3.40 查询全体学生情况，查询结果按所在系的系号升序排列，同一系中的学生按年龄降序排列

![{20AA84A4-8F77-489C-876C-605AB0AAA5ED}](./img/{20AA84A4-8F77-489C-876C-605AB0AAA5ED}.png)

#### 例3.41 查询学生总人数

![{B003830B-F3B3-437A-9DE8-0A68F18CABE6}](./img/{B003830B-F3B3-437A-9DE8-0A68F18CABE6}.png)

#### 例3.42 查询选修了课程的学生人数

![{0D83C6C0-1CED-4BC1-AE50-1B5C0EED4F23}](./img/{0D83C6C0-1CED-4BC1-AE50-1B5C0EED4F23}.png)

#### 例3.43 计算选修2号课程的学生平均成绩

![{CFF2CD1A-F97E-4F13-8D85-FBBC7BD66095}](./img/{CFF2CD1A-F97E-4F13-8D85-FBBC7BD66095}.png)

#### 例3.44 查询选修1号课程的学生最高分数

![{959C79DB-D421-4DC4-A2A9-C6EE3B928D88}](./img/{959C79DB-D421-4DC4-A2A9-C6EE3B928D88}.png)

#### 例3.45 查询学生201215012选修课程的总学分数

![{3DD42B6E-239F-448A-BA6F-CF0227AD09A7}](./img/{3DD42B6E-239F-448A-BA6F-CF0227AD09A7}.png)

#### 例3.46 求各个课程号及相应的选课人数

![{8A624F8F-C51D-400D-9226-E4111091AB08}](./img/{8A624F8F-C51D-400D-9226-E4111091AB08}.png)

#### 例3.47 查询选修了三门以上课程的学生学号

![{0DD90782-AC82-4D3E-A24A-1C658DC61485}](./img/{0DD90782-AC82-4D3E-A24A-1C658DC61485}.png)

#### 例3.48 查询平均成绩大于等于90分的学生学号和平均成绩

![{FE90F536-C0AC-431E-B786-4BC2850C6763}](./img/{FE90F536-C0AC-431E-B786-4BC2850C6763}.png)

#### 例3.49 查询每个学生及其选修课程的情况

![{E87AB803-9DB6-44E9-89F1-598381785A2F}](./img/{E87AB803-9DB6-44E9-89F1-598381785A2F}.png)

#### 例3.50 对例3.49用自然连接完成

![{F791504F-4E12-4515-8B69-2F659CF99ED6}](./img/{F791504F-4E12-4515-8B69-2F659CF99ED6}.png)

#### 例3.51 查询选修2号课程且成绩在90分以上的所有学生的学号和姓名

![{860954D7-5FA2-4BF3-B587-AA33E52E67A2}](./img/{860954D7-5FA2-4BF3-B587-AA33E52E67A2}.png)

#### 例3.52 查询每一门课程的间接先修课（即先修课的先修课）

![{5397B743-A72C-4423-ADF8-33317877C86E}](./img/{5397B743-A72C-4423-ADF8-33317877C86E}.png)

#### 例3.53 执行外连接的代码

![{8B9937D4-EF7A-492E-BA31-139CD0C59E3B}](./img/{8B9937D4-EF7A-492E-BA31-139CD0C59E3B}.png)

#### 例3.54 查询每个学生的学号、姓名、选修的课程名和成绩

![{988A738F-7883-48DA-898C-5E618261036D}](./img/{988A738F-7883-48DA-898C-5E618261036D}.png)

#### 例3.55 查询与“刘晨”在同一个系学习的学生

![{B067BF05-3B83-4E91-9DAC-894BBD476AF3}](./img/{B067BF05-3B83-4E91-9DAC-894BBD476AF3}.png)

#### 例3.56 查询选修了课程名为“信息系统”的学生学号和姓名

![{15DE89E8-9FC0-49FB-ADAA-63C15CD42A5E}](./img/{15DE89E8-9FC0-49FB-ADAA-63C15CD42A5E}.png)

#### 例3.57 找出每个学生超过他自己选修课程平均成绩的课程号

![{E6A37450-46C3-43C4-B5AA-11F22FF1C3C7}](./img/{E6A37450-46C3-43C4-B5AA-11F22FF1C3C7}.png)

#### 例3.58 查询非计算机科学系中比计算机科学系任意一个学生年龄小的学生姓名和年龄

![{CB4F2628-27E1-483D-B1D6-8F3EC56C61C7}](./img/{CB4F2628-27E1-483D-B1D6-8F3EC56C61C7}.png)

#### 例3.59 查询非计算机科学系中比计算机科学系所有学生年龄都小的学生姓名和年龄

![{1DF2CF05-5399-4949-B72E-344A0238DC24}](./img/{1DF2CF05-5399-4949-B72E-344A0238DC24}.png)

#### 例3.60 查询所有选修了1号课程的学生姓名

![{DDF2DD61-2FEF-4392-80F7-97954C2BE828}](./img/{DDF2DD61-2FEF-4392-80F7-97954C2BE828}.png)

#### 例3.61 查询没有选修1号课程的学生姓名

![{4578232C-D17A-4D8E-A7BF-F5CE11A57B40}](./img/{4578232C-D17A-4D8E-A7BF-F5CE11A57B40}.png)

#### 例3.62 查询选修了全部课程的学生姓名

![{3E635794-70FF-49AB-8C38-9EAEAF8CFA9A}](./img/{3E635794-70FF-49AB-8C38-9EAEAF8CFA9A}.png)

#### 例3.63 查询至少选修了学生201215122选修的全部课程的学生号码

![{9DA6397E-7A7C-4FFE-BDE4-26CB143883EC}](./img/{9DA6397E-7A7C-4FFE-BDE4-26CB143883EC}.png)

#### 例3.64 查询计算机科学系的学生和年龄不大于19岁的学生

![{C0747C66-6F86-4165-8D1E-A633940EF429}](./img/{C0747C66-6F86-4165-8D1E-A633940EF429}.png)

#### 例3.65 查询选修了课程1或者选修了课程2的学生

![{88FAB432-8D07-410B-8064-9EA0E89EDF7F}](./img/{88FAB432-8D07-410B-8064-9EA0E89EDF7F}.png)

#### 例3.66 查询计算机科学系的学生与年龄不大于19岁的学生的交集

![{56C1ABD5-06F9-414A-8B19-20863C2D0372}](./img/{56C1ABD5-06F9-414A-8B19-20863C2D0372}.png)

#### 例3.67 查询既选修了课程1又选修了课程2的学生。

![{6DFAEDED-09A6-4D58-BA98-221069CB2292}](./img/{6DFAEDED-09A6-4D58-BA98-221069CB2292}.png)

#### 例3.68 查询计算机科学系的学生与年龄不大于19岁的学生的差集

![{7FBE8EE6-18BB-4245-A5C2-06E59ED44E3E}](./img/{7FBE8EE6-18BB-4245-A5C2-06E59ED44E3E}-1735092530338-1.png)

#### 例3.69 将一个新学生元组（学号：201215128，姓名：陈冬，性别：男，所在系：IS，年龄：18岁）插入到Student表中

![{855787AD-AF39-48F7-B949-189565CAA0A6}](./img/{855787AD-AF39-48F7-B949-189565CAA0A6}.png)

#### 例3.70 将学生张成民的信息插入到Student表中

![{A158C79D-59A4-497D-93CC-FF56897BE787}](./img/{A158C79D-59A4-497D-93CC-FF56897BE787}.png)

#### 例3.71 插入一条选课记录（‘201215128’，‘1’）

![{EB42F18A-5C30-4EC6-A47E-76C416A7D513}](./img/{EB42F18A-5C30-4EC6-A47E-76C416A7D513}.png)

#### 例3.72  对每一个系，求学生的平均年龄，再把系名和平均年龄存入新表中

![{F47A2AD1-09AE-48D3-B3FA-5B7680AE457B}](./img/{F47A2AD1-09AE-48D3-B3FA-5B7680AE457B}.png)

![{1B3A9557-2D43-4671-869E-CF993B4307D9}](./img/{1B3A9557-2D43-4671-869E-CF993B4307D9}.png)

#### 例3.73 将学生201215121的年龄改为22岁

![{9A9A8772-D665-4E25-B336-45127A2152C7}](./img/{9A9A8772-D665-4E25-B336-45127A2152C7}.png)

#### 例3.74 将所有学生的年龄增加1岁

![{C855B759-B85A-40FF-B0C1-35EBAE3CBD34}](./img/{C855B759-B85A-40FF-B0C1-35EBAE3CBD34}.png)

#### 例3.75 将计算机科学系全体学生的成绩置零

![{08EFC969-B014-4485-9618-C6F72E6CB35E}](./img/{08EFC969-B014-4485-9618-C6F72E6CB35E}.png)



#### 例3.76 删除学号为201215128的学生记录

![{592C7DB9-4549-43AC-A3FE-4C9E424ED62B}](./img/{592C7DB9-4549-43AC-A3FE-4C9E424ED62B}.png)

#### 例3.77 删除所有的学生选课记录

![{FC595A72-50F2-43B9-AE83-71A42FB59E13}](./img/{FC595A72-50F2-43B9-AE83-71A42FB59E13}.png)

#### 例3.78 删除计算机科学系所有学生的选课记录

![{C1105874-6704-4098-A6E1-5872E628E4A2}](./img/{C1105874-6704-4098-A6E1-5872E628E4A2}.png)

#### 例3.79 向SC表中插入一个元组，学生号是“201215126",课程号是”1“，成绩为空

![{EE6DB6DF-6280-473C-8A98-67FC66371754}](./img/{EE6DB6DF-6280-473C-8A98-67FC66371754}.png)

#### 例3.80 将Student表中学生号为”201215200“的学生所属的系改为空值

![{D06CFA9D-F82D-4324-97CA-8298DBCB6C20}](./img/{D06CFA9D-F82D-4324-97CA-8298DBCB6C20}.png)

#### 例3.81 从Student表中找出漏填了数据的学生信息

![{9942950C-19E1-4ADD-A2B7-76CF67CA0CDE}](./img/{9942950C-19E1-4ADD-A2B7-76CF67CA0CDE}.png)

#### 例3.82 找出选修1号的课程的不及格的学生

![{51B63743-6138-4D9C-9A2A-F28E535FBA3C}](./img/{51B63743-6138-4D9C-9A2A-F28E535FBA3C}.png)

#### 例3.83 选出选修1号课程的不及格的学生以及缺考的学生

![{EEC804F5-A13A-4724-B6F9-166AC489B88A}](./img/{EEC804F5-A13A-4724-B6F9-166AC489B88A}.png)

#### 例3.84 建立信息系学生的视图

![{E4C77CDF-587C-42E8-A454-95F3355C05FF}](./img/{E4C77CDF-587C-42E8-A454-95F3355C05FF}.png)

#### 例3.85 建立信息系学生的视图，并要求进行修改和插入操作时仍需保证该视图只有信息系的学生

![{A0D2EA6D-7CB0-464E-A85C-9F9E2728ABB9}](./img/{A0D2EA6D-7CB0-464E-A85C-9F9E2728ABB9}.png)

#### 例3.86 建立信息系选修了1号课程的学生的视图（包括学号、姓名、成绩）

![{2DD0B9AA-4E61-4E6A-AA92-FF7AA94F9409}](./img/{2DD0B9AA-4E61-4E6A-AA92-FF7AA94F9409}.png)

#### 例3.87 建立信息系选修了1号课程且成绩在90分以上的学生的视图

![{AD4DF266-4092-4D83-A2C7-8C4EA2EF1F0E}](./img/{AD4DF266-4092-4D83-A2C7-8C4EA2EF1F0E}.png)

![{98484715-8507-4326-9573-DAFEA78F8C5E}](./img/{98484715-8507-4326-9573-DAFEA78F8C5E}.png)

#### 例3.88 定义一个反映学生出生年份的视图

![{769D7103-786E-471B-B790-82C02C5E163D}](./img/{769D7103-786E-471B-B790-82C02C5E163D}.png)

#### 例3.89 将学生的学号和平均成绩定义为一个视图

![{B0930253-B986-425F-95FE-1B213A663FE5}](./img/{B0930253-B986-425F-95FE-1B213A663FE5}.png)

#### 例3.90 将Student表中所有女生的记录定义为一个视图

![{2262CF30-A8A5-4B0B-B6CB-AF83882CEE0D}](./img/{2262CF30-A8A5-4B0B-B6CB-AF83882CEE0D}.png)

#### 例3.91 删除视图BT_S和视图IS_S1

![{335C21E2-EC1D-4E26-9E8F-3D48D4083B64}](./img/{335C21E2-EC1D-4E26-9E8F-3D48D4083B64}.png)

#### 例3.92 在信息系学生的视图中找出年龄小于20岁的学生

![](./img/{03F729F5-5B14-4C14-AF18-11501700E251}.png)

#### 例3.93 查询选修了1号课程的信息系学生

![{2775A28D-4B81-4196-ACC7-C7099075DC41}](./img/{2775A28D-4B81-4196-ACC7-C7099075DC41}.png)

#### 例3.94 在S_G（例3.89中定义）视图中查询平均成绩在90分以上的学生学号和平均成绩

![{21C718D9-A340-4EE9-A216-DA60502C7BD4}](./img/{21C718D9-A340-4EE9-A216-DA60502C7BD4}.png)

#### 例3.95 将信息系学生视图IS_Student中学号为”201215122“的学生姓名改为”刘辰“

![{055FD63D-0A51-4B5A-9E0C-42A590C8830B}](./img/{055FD63D-0A51-4B5A-9E0C-42A590C8830B}.png)

#### 例3.96 向信息系学生视图IS_Student中插入一个新的学生记录，其中学号为”201215129“，姓名为”赵新“，年龄为20岁

![{914427DC-8CD1-4DB1-B0B8-344B146BB039}](./img/{914427DC-8CD1-4DB1-B0B8-344B146BB039}.png)

![{C610007B-F980-4230-85EF-9835A8871485}](./img/{C610007B-F980-4230-85EF-9835A8871485}.png)



#### 例3.97 删除信息系学生视图IS_Student中学号为”201215129“的记录

![{27E9C79A-3C0A-4F1E-BCF2-60A02F01AE25}](./img/实验/{27E9C79A-3C0A-4F1E-BCF2-60A02F01AE25}.png)



## 实验四

### 1.继续用MySql实际操作完成第4，5章例子。 

#### 第四章例子

##### 4.1

必须事先让“3222004764”用户有grant权利，否则无法授权

![{0A4156B1-1E9B-40AB-9372-B2F4FD3C82D7}](./img/{0A4156B1-1E9B-40AB-9372-B2F4FD3C82D7}.png)

##### 4.2

![{2B179FE5-7DFC-4E0D-9EB4-D78857356BC0}](./img/{2B179FE5-7DFC-4E0D-9EB4-D78857356BC0}.png)

##### 4.3

Mysql不支持授予权限给public

![{D84F3F78-1436-4D5C-9BB5-993D49BB6B83}](./img/{D84F3F78-1436-4D5C-9BB5-993D49BB6B83}.png)

只能单个授权

![{19093C3A-587F-48D3-9A83-26A2DA56A37A}](./img/{19093C3A-587F-48D3-9A83-26A2DA56A37A}.png)

##### 4.4

![{C2AE44E8-D6FC-440B-B07D-075642791CD6}](./img/{C2AE44E8-D6FC-440B-B07D-075642791CD6}.png)

##### 4.5

![{A2D98EDC-22B5-42BC-B756-E4221DDBF654}](./img/{A2D98EDC-22B5-42BC-B756-E4221DDBF654}.png)

##### 4.6 

![{862D7D4C-ACE5-46B1-A687-FF149D954754}](./img/{862D7D4C-ACE5-46B1-A687-FF149D954754}.png)

![{8D2CE85C-46AB-433B-BADE-4B6A59CAADEA}](./img/{8D2CE85C-46AB-433B-BADE-4B6A59CAADEA}.png)

##### 4.7

![{C213EDC3-A97A-4477-8A94-6595B6BB1973}](./img/{C213EDC3-A97A-4477-8A94-6595B6BB1973}.png)

##### 4.8

![{FA43C968-B024-4F7B-80CA-498CBBE10136}](./img/{FA43C968-B024-4F7B-80CA-498CBBE10136}.png)

##### 4.9

mysql无法对pubic进行操作，只能对sc有select权限的个体进行一个个取消

![{1447034C-1D73-45AF-BA97-12720AC8A2FB}](./img/{1447034C-1D73-45AF-BA97-12720AC8A2FB}.png)

![{E5CE4BEA-3C05-4B28-B55F-6786644F47AE}](./img/{E5CE4BEA-3C05-4B28-B55F-6786644F47AE}.png)

##### 4.10

![{8B4D4502-751E-41D6-91F7-8EA1A0056BBE}](./img/{8B4D4502-751E-41D6-91F7-8EA1A0056BBE}.png)

mysql不支持使用cascade级联取消U6U7的权限，要手动取消。

![{56D3C818-D518-4109-A82C-98B40036148E}](./img/{56D3C818-D518-4109-A82C-98B40036148E}.png)

##### 4.11

![{3B4CDDCE-AB4E-45CA-99FE-D7A8C22D286D}](./img/{3B4CDDCE-AB4E-45CA-99FE-D7A8C22D286D}.png)

![{C1406E6D-3249-47F2-A506-B29924C3BADA}](./img/{C1406E6D-3249-47F2-A506-B29924C3BADA}.png)

![{833179BF-EFC6-4A32-A758-8A7CE492FDD2}](./img/{833179BF-EFC6-4A32-A758-8A7CE492FDD2}.png)

##### 4.12

![{66B19D1B-068A-46D4-BA30-5D72A3461F29}](./img/{66B19D1B-068A-46D4-BA30-5D72A3461F29}.png)

##### 4.13

![{8DD4B5D4-E876-49A6-AF8F-FC7239673F80}](./img/{8DD4B5D4-E876-49A6-AF8F-FC7239673F80}.png)

##### 4.14

![{2046D0A9-0260-419F-9B89-35CF5A0E88A0}](./img/{2046D0A9-0260-419F-9B89-35CF5A0E88A0}.png)

##### 4.15

![{2426B410-1E1F-4818-8186-163617B43822}](./img/{2426B410-1E1F-4818-8186-163617B43822}.png)

需要创建一个名为sc_audit的审计表

![{9EBB4FA5-D006-4DB2-A790-D58E1DD30266}](./img/{9EBB4FA5-D006-4DB2-A790-D58E1DD30266}.png)

![{6F7CB86C-13CA-473E-A354-F2917E4E2646}](./img/{6F7CB86C-13CA-473E-A354-F2917E4E2646}.png)

##### 4.16

![{AC8AC5FD-C280-4184-9ADD-CC830C7FD65A}](./img/{AC8AC5FD-C280-4184-9ADD-CC830C7FD65A}.png)



## 实验五

### 2.模拟多事物之间的锁机制场景

#### ①创建新的表account，插入初始数据以方便事务进行。

![{50A9A72A-9503-4F84-87CB-19F41BBA7D21}](./img/{50A9A72A-9503-4F84-87CB-19F41BBA7D21}.png)

#### ②开始事务1：使用共享锁

![{7142422F-35D5-46AF-B5EE-8C1D99BB145D}](./img/{7142422F-35D5-46AF-B5EE-8C1D99BB145D}.png)

##### 设置共享锁

![{0E3E6C51-6C29-4A9B-82D9-152E9EE6EF02}](./img/{0E3E6C51-6C29-4A9B-82D9-152E9EE6EF02}.png)

##### 模拟并发

![{A5F5BCE4-EF89-439E-B005-0982820D733A}](./img/{A5F5BCE4-EF89-439E-B005-0982820D733A}.png)

##### 提交

![{6BACC0E2-9A31-41AC-B100-F1CE1902BDA8}](./img/{6BACC0E2-9A31-41AC-B100-F1CE1902BDA8}.png)

#### ③开始事务2：使用排它锁

![{7C3898D2-4DC7-4452-B1A0-BC1C4541D84C}](./img/{7C3898D2-4DC7-4452-B1A0-BC1C4541D84C}.png)

##### 设置排它锁

![{48CD72B2-186F-4E44-927E-36A1B3E447D4}](./img/{48CD72B2-186F-4E44-927E-36A1B3E447D4}.png)

##### 其他操作

![{16948F74-764E-45CF-BB10-030D1E74A68F}](./img/{16948F74-764E-45CF-BB10-030D1E74A68F}.png)

##### 提交

![{83BA5024-FFBA-48CA-9E95-AC0DC4967C11}](./img/{83BA5024-FFBA-48CA-9E95-AC0DC4967C11}.png)

#### ④如果事务1要提交，可能会因为事务 2 持有排它锁而导致阻塞，可以选择回滚事务1.

![{400E12CA-7D5A-479E-8B62-16403D31F893}](./img/{400E12CA-7D5A-479E-8B62-16403D31F893}.png)

