# 第六次作业

#### 习题1 试述关系模型的三个组成部分

关系模型由关系数据结构、关系操作集合和关系完整性约束三部分组成。

#### 习题2 试述关系数据语言的特点和分类

关系数据语言可以分为三类：关系代数语言、关系演算语言以及具有关系代数和关系演算双重特点的语言。

#### 习题6 设有一个SPJ数据库，包括S、P、J及SPJ四个关系模式。

S(SNO,SNAME,STATUS,CITY);

P(PNO,PNAME,COLOR,WEIGHT);

J(JNO,JNAME,CITY);

SPJ(SNO,PNO,JNO,QTY);

供应商表S由供应商代码（SNO）,供应商姓名（SNAME）,供应商状态（STATUS），供应商所在城市（CITY）组成。

题干内容略......

试用关系代数、ALPHA语言、QBE语言完成如下查询：

##### （1）求供应工程J1零件的供应商号码SNO：

关系代数：πSno(σJno=‘J1’(SPJ))

ALPHA语言：

RANGE SPJ X

GET W(S.SNO): ∃X(X.SNO=S.SNO⋀X.JNO='J1')

QBE语言：

| SPJ  | SNO         | PNO  | JNO  | QTY  |
| ---- | ----------- | ---- | ---- | ---- |
|      | P.<u>S1</u> |      | J1   |      |

##### （2）求供应工程J1零件P1的供应商号码SNO：

关系代数：πSno(σJno=‘J1’∧Pno=‘P1‘(SPJ))

ALPHA语言：

RANGE SPJ X

GET W(S.SNO): ∃X(X.SNO=S.SNO⋀X.JNO='J1'⋀X.PNO='P1')

QBE语言：

| SPJ  | SNO       | PNO  | JNO  | QTY  |
| ---- | --------- | ---- | ---- | ---- |
|      | <u>S1</u> | P1   | J1   |      |

##### （3）求供应工程J1零件为红色的供应商号码SNO：

关系代数：πSno(πSno,Pno(σJno=‘J1‘ (SPJ))∞πPno(σCOLOR=’红‘ (P))

ALPHA语言：

RANGE SPJ X

​	     P PX

GET W(S.SNO): ∃X((X.SNO=S.SNO⋀X.JNO='J1')⋀

​			   ∃PX(PX.PNO=X.PNO⋀PX.COLOR='红色'))

QBE语言：

| SPJ  | SNO         | PNO       | JNO  | QTY  |
| ---- | ----------- | --------- | ---- | ---- |
|      | P.<u>S1</u> | <u>P1</u> | J1   |      |

| P    | PNO       | PNAME | COLOR | WEIGHT |
| ---- | --------- | ----- | ----- | ------ |
|      | <u>P1</u> |       | 红色  |        |

##### （4）求没有使用天津供应商生产的红色零件的工程号JNO：

关系代数：πJno(SPJ)- πJNO(σcity=‘天津’∧Color=‘红‘ (S∞SPJ∞P)

ALPHA语言：

RANGE SPJ X

​	      P PX

​	      S SX

GET W(J.JNO): ∃X(X.JNO≠J.JNO⋁

​			   ∃PX(PX.PNO=X.PNO⋀PX.COLOR='红色')⋀

​			   ∃SX(SX.SNO=X.SNO⋀SX.CITY='天津'))

QBE语言：

| S    | SNO       | SNAME | STATUS | CITY |
| ---- | --------- | ----- | ------ | ---- |
|      | <u>S1</u> |       |        | 天津 |

| SPJ  | SNO       | PNO       | JNO         | QTY  |
| ---- | --------- | --------- | ----------- | ---- |
| 非   | <u>S1</u> | <u>P1</u> | P.<u>J1</u> |      |

| P    | PNO       | PNAME | COLOR | WEIGHT |
| ---- | --------- | ----- | ----- | ------ |
|      | <u>P1</u> |       | 红色  |        |

##### （5）求至少用了供应商S1所供应的全部零件的工程号JNO：

关系代数：πJno，Pno(SPJ)÷ πPno(σSno=‘S1‘ (SPJ))

ALPHA语言：

RANGE SPJ X

GET W(J.JNO): ∃X(X.JNO=J.JNO⋀X.SNO='S1')

QBE语言：

| SPJ  | SNO  | PNO  | JNO         | QTY  |
| ---- | ---- | ---- | ----------- | ---- |
|      | S1   |      | P.<u>J1</u> |      |

#### 编程作业：用SQL完成习题5 SPJ的查询，给出运算的结果

要求：用SQL语言