## 第十次作业

### 1.纸质完成下面内容

 P239 7，8，9，11，14 

P316 3，4，5 

P330 3，4，5 

P331 6 

P352 10，11，15 



### 2.模拟多事物之间的锁机制场景

#### ①创建新的表account，插入初始数据以方便事务进行。

![{50A9A72A-9503-4F84-87CB-19F41BBA7D21}](./../img/{50A9A72A-9503-4F84-87CB-19F41BBA7D21}.png)

#### ②开始事务1：使用共享锁

![{7142422F-35D5-46AF-B5EE-8C1D99BB145D}](./../img/{7142422F-35D5-46AF-B5EE-8C1D99BB145D}.png)

##### 设置共享锁

![{0E3E6C51-6C29-4A9B-82D9-152E9EE6EF02}](./../img/{0E3E6C51-6C29-4A9B-82D9-152E9EE6EF02}.png)

##### 模拟并发

![{A5F5BCE4-EF89-439E-B005-0982820D733A}](./../img/{A5F5BCE4-EF89-439E-B005-0982820D733A}.png)

##### 提交

![{6BACC0E2-9A31-41AC-B100-F1CE1902BDA8}](./../img/{6BACC0E2-9A31-41AC-B100-F1CE1902BDA8}.png)

#### ③开始事务2：使用排它锁

![{7C3898D2-4DC7-4452-B1A0-BC1C4541D84C}](./../img/{7C3898D2-4DC7-4452-B1A0-BC1C4541D84C}.png)

##### 设置排它锁

![{48CD72B2-186F-4E44-927E-36A1B3E447D4}](./../img/{48CD72B2-186F-4E44-927E-36A1B3E447D4}.png)

##### 其他操作

![{16948F74-764E-45CF-BB10-030D1E74A68F}](./../img/{16948F74-764E-45CF-BB10-030D1E74A68F}.png)

##### 提交

![{83BA5024-FFBA-48CA-9E95-AC0DC4967C11}](./../img/{83BA5024-FFBA-48CA-9E95-AC0DC4967C11}.png)

#### ④如果事务1要提交，可能会因为事务 2 持有排它锁而导致阻塞，可以选择回滚事务1.

![{400E12CA-7D5A-479E-8B62-16403D31F893}](./../img/{400E12CA-7D5A-479E-8B62-16403D31F893}.png)

